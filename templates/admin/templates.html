{% extends "admin/layout.html" %}
{% block title %}Templates — Admin — Standup 3000{% endblock %}
{% block admin_content %}
<div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:1rem;">
    <h2 style="margin:0;">Meeting Templates</h2>
    <a href="{{ url_for('admin.template_create') }}" role="button" style="font-size:0.85rem; padding:0.4rem 1rem; border-radius:8px;">New Template</a>
</div>

{% if templates %}
<div>
    {% for t in templates %}
    <div class="meeting-list-item">
        <div>
            <strong>{{ t.name }}</strong>
            {% if t.description %}
            <span style="font-size:0.8rem; opacity:0.5; margin-left:0.5rem;">{{ t.description }}</span>
            {% endif %}
            {% if t.creator_name %}
            <span style="font-size:0.75rem; opacity:0.4; margin-left:0.5rem;">by {{ t.creator_name }}</span>
            {% endif %}
        </div>
        <div style="display:flex; gap:0.5rem;">
            <a href="{{ url_for('admin.template_edit', template_id=t.id) }}" style="font-size:0.8rem;">Edit</a>
            <form method="post" action="{{ url_for('admin.template_delete', template_id=t.id) }}" style="margin:0;" onsubmit="return confirm('Delete this template?')">
                <input type="hidden" name="_csrf_token" value="{{ csrf_token() }}">
                <button type="submit" style="background:none; border:none; color:var(--accent-red); font-size:0.8rem; cursor:pointer; padding:0; margin:0; width:auto;">Delete</button>
            </form>
        </div>
    </div>
    {% endfor %}
</div>
{% else %}
<p style="opacity:0.5; font-style:italic;">No templates yet. Create one to get started, or save a meeting layout as a template.</p>
{% endif %}
{% endblock %}
